@import ../utils/variables
@import ../utils/mixins
@import ../../libs/include-media/dist/include-media

/*navigation*/
html.css-scroll-fixed

	&.touchevents
		+scroll-blocked() // блокировка скролла во время открытия попапа (на тачскринах)

.content-wrap, .scroll-nav, .side-menu, .top-panel
	transition-property: transform
	transition-duration: 0.2s
	transition-timing-function: ease-out

	.nav-popup-before-open &
		transform: translate($nav-width - 100, 0)
		transition-delay: 0.1s

.nav-wrap
	position: fixed
	left: $header-width
	top: 0
	width: 100%
	height: 100%
	max-width: $nav-width
	padding: $header-width 0 120px
	background: $bg-color-light
	opacity: 0
	visibility: hidden
	z-index: 998

	.ea-site &
		padding-top: 0
	
	&::before
		+pseudo()
		top: 0
		left: 0
		+size(100%, $header-width)
		background-color: $logo-bg-color
		z-index: 5

		.ea-site &
			background-color: white

.nav
	position: relative
	padding: #{round($page-layout-space-horizontal*0.5)} #{$page-layout-space-horizontal}
	top: 50%
	transform: translate(0, -50%)
	+antialiased

.nav__list
	+font-normal
	+font(24px, 32px)
	color: $text-color

	li
		position: relative
		margin: 1em 0

	+media('height<600px')
		+font(20px, 28px)

		li
			margin: 0.5em 0

	a
		display: inline-block
		color: inherit
		text-decoration: none
		transition-property: color
		transition-duration: $animation-speed

		& > span
			+display-inline-block-top
			position: relative
			overflow: hidden

			&::after
				+pseudo()
				left: 0
				bottom: 0
				+size(100%, 0)
				border-top: 1px solid lighten($text-color, 60%)
				transform: translate(-100%, 0)
				transition-property: transform, filter
				transition-duration: $animation-speed

	// hover
	.no-touchevents & a:hover
		& > span
			&::after
				transform: translate(0, 0)

	// current
	li.current
		a
			color: $base-color
			//+font-bold

			& > span
				&::after
					content: none

/*navigation end*/

.nav-footer
	position: absolute
	left: 0
	bottom: 0
	width: 100%
	padding: #{round($page-layout-space-horizontal*0.5)} #{$page-layout-space-horizontal}
	+font(1.2rem, 1.6)
	color: $text-color

	.copyright
		margin-bottom: 1em
		padding-bottom: 1em
		+font(1.4rem, 1.5)
		text-transform: uppercase
		border-bottom: 1px solid $border-color

		&:last-child
			margin-bottom: 0
			padding-bottom: 0
			border: none

	.map-site
		color: $text-color-light

		a
			color: inherit
			text-decoration: none
			transition-property: color
			transition-duration: $animation-speed

			.no-touchevents &:hover
				color: $base-color