@import ../utils/variables
@import ../utils/mixins
@import ../../libs/include-media/dist/include-media

/*SIDE MENU*/
.side-menu
	position: fixed
	right: 0
	top: 0
	height: 100%
	width: $sidebar-width
	background-color: $base-color
	z-index: 998

	.side-menu--alt &
		width: $sidebar-width--lg
		overflow-x: hidden
		overflow-y: auto

.side-menu__holder
	position: relative
	width: 100%
	top: 50%
	transform: translate(0, -50%)

	.side-menu--alt &
		display: table
		table-layout: fixed
		min-height: 100vh
		top: auto
		transform: none

.side-menu__row
	display: block
	margin-top: -1px
	border: solid $side-menu-bg-color-hover
	border-width: 1px 0
	position: relative

	&::before
		content: ""
		display: block
		padding-top: calc(100%)

	//&:last-child
		.side-menu__cell
			background-color: white
			border-top-color: transparent

	.side-menu--alt &
		display: table-row
		margin: 0
		border: none

		&::before
			content: none
			//padding-top: calc(100% + 1px)

.side-menu__cell
	position: absolute
	+position(0, 100%)
	+size(auto, 100%)
	color: $text-color
	+clear-spacing
	white-space: nowrap
	text-decoration: none
	text-align: center
	background-color: $base-color
	transform: translate(-#{$sidebar-width}, 0)

	.no-touchevents &:hover
		transform: translate(-100%, 0)

	.side-menu--alt &
		display: table-cell
		vertical-align: middle
		position: relative
		white-space: normal
		+position(auto, auto)
		+size(auto)
		padding: 5% 13%
		border: solid $side-menu-bg-color-hover
		border-width: 1px 0 0
		transform: none

	.no-touchevents .side-menu--alt &:hover
		transform: none

.side-menu__hover
	transition-property: background-color, transform
	transition-duration: $animation-speed

	.no-touchevents .side-menu--alt &:hover
		background-color: $side-menu-bg-color-hover

	.side-menu--alt &::before
		+pseudo()
		bottom: 30px
		left: 50%
		+size(42px, 10px)
		background: url(../../img/arrow-right.svg) no-repeat center
		background-size: cover
		opacity: 0
		visibility: hidden
		transform: translate(-200%, 0)
		transition-property: transform, opacity, visibility, height
		transition-duration: $animation-speed
		z-index: 5

	.no-touchevents .side-menu--alt &:hover::before
		opacity: 1
		visibility: visible
		transform: translate(-50%, 0)

.side-menu__figure
	+display-inline-block-middle
	+size(#{$sidebar-width}, 100%)
	position: relative
	z-index: 5

	.side-menu--alt &
		display: block
		+push-auto
		max-width: 120px
		margin-bottom: 20px

	&::before
		+pseudo-inline-block-relative()
		+ratio(1, 1)

	svg
		+centering-transform-abs()
		+size(50px)
		transition-property: opacity, transform
		transition-duration: $animation-speed

		&:first-child
			display: none

		.side-menu--alt &
			+size(100px)

			&:first-child
				display: block

			&:first-child + svg
				display: none

		.no-touchevents .side-menu--alt .side-menu__cell:hover &
			//transform: translate(-50%, -70%) scale(0.95)
			opacity: 0.3

	path
		fill: black

	//img
		position: absolute
		left: 50%
		top: 50%
		transform: translate(-50%, -50%)
		max-width: 120px
		max-height: 120px
		transition-property: opacity
		transition-duration: $animation-speed

		.no-touchevents .side-menu__cell:hover &
			opacity: 0.3

.side-menu__title
	+display-inline-block-middle
	position: relative
	max-height: 100%
	padding-right: 20px
	+font-bold
	+font(1.6rem, 1.167)
	letter-spacing: normal
	text-transform: uppercase
	text-align: left
	opacity: 0
	transition-property: color, transform, opacity
	transition-duration: round-float($animation-speed*1.5, 1)
	z-index: 5

	.side-menu--alt &
		text-align: center
		display: block
		opacity: 1
		padding: 0

	.no-touchevents .side-menu__cell:hover &
		transition-delay: #{$animation-speed*0.5}
		opacity: 1

	.no-touchevents .side-menu--alt .side-menu__cell:hover &
		transition-delay: 0s
		color: white

.download
	text-align: left

.download__icon
	position: relative
	overflow: hidden
	float: left
	+size(60px)
	border: 1px solid $text-color
	margin-right: 20px
	margin-top: 0.3em
	+font-bold
	+font(16px, 58px)
	text-align: center
	transition-property: border-color
	transition-duration: $animation-speed

	.no-touchevents .download:hover &
		border-color: $side-menu-bg-color-hover

	&::before
		+pseudo(attr(data-label))
		+position(0, 0)
		+size(100%)
		color: white
		background-color: $side-menu-bg-color-hover
		transition-property: transform
		transition-duration: $animation-speed
		transform: translate(-100%, 0)

		.no-touchevents .download:hover &
			transform: translate(0, 0)

	span
		display: block
		height: 100%
		transition-property: transform
		transition-duration: $animation-speed

		.no-touchevents .download:hover &
			transform: translate(100%, 0)

.download__title
	display: block
	overflow: hidden
	+font-bold
	+font(1.8rem, 1.167)

	span
		display: block
		+font-normal
		+font(1.4rem, 1.5)
		color: $text-color-light
		margin-top: 0.5em

/*SIDE MENU end*/