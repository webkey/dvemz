@import ../utils/variables
@import ../utils/mixins
@import ../../libs/include-media/dist/include-media

/* user options
.user-options

	transition-property: background-color, opacity, visibility, fill, transform
	transition-duration: $animation-speed

	.top-panel &
		display: none

		+media('<tab-lg')
			display: block
			float: right
			margin-left: 20px

.user-options__item
	+display-inline-block-top
	width: 60px
	position: relative
	overflow: hidden
	color: $text-color
	text-decoration: none
	transition: inherit

	.header &
		display: block
		width: auto

	.top-panel &.menu-btn
		display: none

	&::after
		+pseudo-block-relative()
		+ratio()

	.top-panel &
		+display-inline-block-top
		width: #{$top-panel-height}

		+media('<tab-lg')
			width: #{$top-panel-height--md}

// крест для кнопок
.user-options__inner
	$user-options-cross-width: 28px !default
	$user-options-cross-height: 2px !default
	$user-options-cross-space: 5px !default
	$user-options-cross-color: $text-color !default

	=user-options-cross()
		+size($user-options-cross-width, $user-options-cross-height)
		background: $user-options-cross-color

	+cover-abs()
	transition: inherit

	&::before, &::after
		+pseudo()
		+user-options-cross
		left: 50%
		top: 50%
		+margin($top: -#{round($user-options-cross-height*0.5)}, $left: -#{round($user-options-cross-width*0.5)})
		opacity: 0
		transition: inherit

	// active
	.header a.active &
		&::before
			transform: rotate(45deg)
			opacity: 1

		&::after
			transform: rotate(-45deg)
			opacity: 1

	// hover
	.no-touchevents a:hover &
		&::before, &::after
			background-color: $base-color

	// hover for ea site
	.no-touchevents .ea-site a:hover &
		&::before, &::after
			background-color: $base-color--ea

.user-option__icon
	+centering-transform-abs()
	letter-spacing: normal
	opacity: 1
	visibility: visible
	transition-property: opacity, visibility
	transition-duration: $animation-speed

	& > span
		+hide-text

	svg
		display: block
		+size(24px)

	path
		fill: black
		transition: fill $animation-speed

	.basket-counter
		position: absolute
		left: 100%
		bottom: 100%
		+margin($left: -7px, $bottom: -7px)
		+size(14px)
		+font(1.0rem, 14px)
		text-align: center
		background-color: $base-color
		border-radius: 50%

		.ea-site &
			background-color: $base-color--ea

	.header a.active &
		opacity: 0
		visibility: hidden

	.top-panel--alt &
		path
			fill: white

			+media('<tab-lg')
				fill: black

// ховер
.user-options__item

	&::before
		+pseudo()
		top: 0
		left: 0
		width: calc(100% + 50px)
		height: 100%
		margin-left: -25px
		background-color: $bg-color-light
		transform: translate(100%, 0) skew(-30deg)
		transition-property: transform
		transition-duration: 0.3s

		.top-panel &
			content: none

	&.active::before
		transform: translate(0, 0) skew(-10deg)

	.no-touchevents &:hover path
		fill: $base-color

	.no-touchevents .ea-site &:hover path
		fill: $base-color--ea

/* user options end