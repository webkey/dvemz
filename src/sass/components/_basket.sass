@import ../utils/_variables
@import ../utils/_mixins
@import ../../libs/include-media/dist/_include-media

/* order steps
.order-steps
	&, .#{$user-content} &
		+display-inline-block-middle
		counter-reset: step
		margin: 0
		+clear

		+media('<tab-sm')
			display: block
			width: 100%
			padding: 0 0 1px 1px

		li
			position: relative
			+display-inline-block-middle
			counter-increment: step
			margin: 0 0 0 85px
			padding: 0
			+clear-spacing
			color: $text-color-light

			//+media('<tab-sm')
				margin-left: 35px

			+media('<tab-sm')
				float: left
				margin: 0 0 -1px -1px
				border: 1px solid $border-color
				width: 33.28%
				padding: 8px 10px

			+media('<mob-md')
				display: block
				float: none
				width: auto
				text-align: center

			&::before
				position: relative
				left: auto
				top: auto
				+display-inline-block-middle
				margin-right: 20px
				content: counter(step)
				+size(50px)
				border: 1px solid $outline-color
				border-radius: 50%
				background-color: transparent
				+font(18px, 48px)
				letter-spacing: normal
				text-align: center
				color: $text-color

				//+media('<tab-sm')
					+size(24px)
					+font(12px, 22px)
					margin-right: 6px

				+media('<tab-sm')
					content: none

			&::after
				+pseudo()
				right: 100%
				top: 50%
				background: url(../../img/depict-arrow.png) no-repeat
				background-size: contain
				transform: translate(0, -50%)
				+size(33px, 20px)
				margin-right: 20px

				//+media('<tab-sm')
					+size(10px, 10px)
					background: none
					border: solid $outline-color
					border-width: 0 2px 2px 0
					border-radius: 0
					margin-right: 13px
					transform: translate(0, -50%) rotate(-45deg)
					//transform: rotate(45deg)

				+media('<tab-sm')
					content: none

			&:first-child
				margin-left: 0

				+media('<tab-sm')
					margin-left: -1px

				&::after
					content: none

			& > span
				+display-inline-block-middle
				letter-spacing: normal
				+font(18px, 22px)

				+media('<mob-md')
					+font(16px, 20px)
					text-transform: uppercase

		li.active
			+font-bold
			color: $text-color

			+media('<tab-sm')
				background-color: $base-color
				border-color: $base-color
				z-index: 2

				.ea-site &
					background-color: $base-color--ea
					border-color: $base-color--ea

			&::before
				background-color: $base-color
				border-color: $base-color

				.ea-site &
					background-color: $base-color--ea
					border-color: $base-color--ea

/* order steps end

/* products basket
.products-basket
	margin-bottom: $bottom-space

	+media('<tab-sm')
		+margin-horizontal(-#{$text-layout-space-horizontal--sm})

	&:last-child
		margin-bottom: 0

.products-basket__list
	display: table
	width: 100%
	//+clear-spacing
	border: solid $outline-color
	border-width: 0 0 2px
	margin-bottom: $bottom-space

	+media('<tab-sm')
		display: block
		border-width: 2px 0

	&:last-child
		margin-bottom: 0

.products-basket__item
	display: table-row
	position: relative
	+clear-spacing
	border: 0 solid $outline-color
	background-color: #{$bg-color}
	transition-property: background-color
	transition-duration: $animation-speed

	+media('<tab-sm')
		display: block

		&:nth-child(odd)
			background-color: $bg-color-light

	+media('>=tab-sm')
		.no-touchevents &
			&:hover, &:focus
				background: $bg-color-light

.products-basket__cell
	//+display-inline-block-middle
	//width: round(100%/5)
	display: table-cell
	letter-spacing: normal
	vertical-align: middle
	+padding-vertical(12px)
	+padding-horizontal(round($product-basket-cell-space/2))
	+font($font-size, $line-height)
	border: solid $outline-color
	border-width: 1px 0 0

	+media('<tab-lg')
		+font($font-size--sm, $line-height--sm)

	+media('<tab-sm')
		display: block
		width: auto !important
		max-width: none !important
		//+font($font-size, $line-height)
		padding: 5px $text-layout-space-horizontal--sm
		border-width: 0

		&:first-child
			padding-top: 20px

		&:last-child
			padding-bottom: 20px

.products-basket__cell[data-label]
	+media('<tab-sm')
		position: relative
		display: flex
		//justify-content: space-between
		justify-content: flex-start
		align-items: center

		&::before
			display: block
			content: attr(data-label)
			width: $product-basket-label-width
			min-width: $product-basket-label-width
			padding-right: 20px
			+font-normal
			//text-align: center
			+font(12px, 16px)
			letter-spacing: 0.025em
			text-transform: uppercase

			+media('<mob-md')
				width: $product-basket-label-width--sm
				min-width: $product-basket-label-width--sm

.products-basket__head
	+media('<tab-sm')
		display: none

	.products-basket__cell
		+font-bold
		background-color: $bg-color-light
		border-width: 0 0 1px

.products-basket__product
	width: 49.8%
	text-align: left

	+media('<tab-sm')
		+clear

.products-basket__figure
	+display-inline-block-middle
	position: relative
	width: #{$product-basket-figure-width}
	margin-right: #{$product-basket-figure-space}

	+media('<tab-sm')
		float: left
		width: #{$product-basket-figure-width--sm}
		margin-right: 0

	+media('<mob-md')
		float: none
		margin-bottom: #{$product-basket-figure-space}

	&:before
		+pseudo-block-relative()
		+ratio(4, 3)

.products-basket__img
	+cover-abs()
	backface-visibility: hidden

	img
		display: block
		max-height: 100%
		max-width: 100%
		+centering-transform-rel()

.products-basket__title
	+display-inline-block-middle
	width: calc(100% - #{$product-basket-figure-width} - #{$product-basket-figure-space} - 6px)
	transition-property: color
	transition-duration: $animation-speed

	+media('<tab-sm')
		display: block
		width: auto
		margin-left: $product-basket-label-width

	+media('<mob-md')
		margin-left: 0

	a
		text-decoration: none
		color: inherit
		transition: inherit
		padding-top: 0.6em

		.no-touchevents &:hover
			color: $link-color

.products-basket__amount
	.spinner
		display: inline-block

.products-basket__price,
.products-basket__sum
	.cur
		display: block
		white-space: nowrap
		font-size: 16px

		+media('<tab-sm')
			white-space: normal

// .products-basket__price

.products-basket__sum
	.cur
		+font-bold
		font-size: 20px

.products-basket__remove
	text-align: center
	max-width: 70px

	+media('<tab-sm')
		//justify-content: space-between
		text-align: right

	.btn-remove
		line-height: 1
		vertical-align: middle

		+media('<tab-sm')
			padding-right: 10px

			& > i
				+size(32px)
				vertical-align: middle

			& > span
				+display-inline-block-middle
				clip: auto
				height: auto
				margin: 0
				padding: auto
				position: relative
				width: auto

.product-basket__total
	text-align: right
	margin-bottom: $bottom-space

	+media('<mob-lg')
		text-align: center

	&:last-child
		margin-bottom: 0

	& > div
		+display-inline-block-middle

	.label
		margin-right: 20px

	.total-price
		+font-bold

.product-basket__footer
	text-align: right
	direction: rtl

	+media('<mob-lg')
		text-align: center
		direction: ltr

	.arr-wrap
		margin: 0 -#{round-float($bottom-space/2, 1)}
		+clear-spacing

		+media('<mob-lg')
			+margin-horizontal(0)

	[class*="btn-"]
		margin: 0 #{round-float($bottom-space/2, 1)} #{$bottom-space}
		min-width: 250px
		direction: ltr

	// for ordering form
	.ordering-form &
		+margin-horizontal(-$ordering-gap/2)

		+media('<tab-lg')
			+margin-horizontal(0)

		.arr-wrap
			+margin-horizontal(0)
			width: 50%
			+padding-horizontal($ordering-gap/2)

			+media('<tab-lg')
				width: auto
				+padding-horizontal(0)
				+margin-horizontal(-#{round-float($bottom-space/2, 1)})

			+media('<mob-lg')
				+margin-horizontal(0)

		[class*="btn-"]
			min-width: 0
			+margin-horizontal(7px)
			width: calc(49.98% - 7px)

			&:nth-child(even)
				margin-left: 0

			&:nth-child(odd)
				margin-right: 0

	// for completion form
	.completion-form &
		.arr-wrap
			text-align: center

	// for all
	.ordering-form & [class*="btn-"], & [class*="btn-"]
		&:nth-child(even), &:nth-child(odd)
			+media('<tab-lg')
				width: calc(49.98% - #{round-float($bottom-space/2, 1)*2})
				+margin-horizontal(round-float($bottom-space/2, 1))
				min-width: 0

			+media('<mob-lg')
				display: block
				width: 100%
				+push-auto

/* products basket end

/* ordering
.ordering
	+margin-horizontal(-$ordering-gap/2)
	margin-bottom: $bottom-space
	+clear

	&:last-child
		margin-bottom: 0

.ordering__col
	float: left
	width: 50%
	+padding-horizontal(round($ordering-gap/2))

	+media('<tab-lg')
		float: none
		width: auto
		margin-top: $bottom-space--md

		&:first-child
			margin-top: 0

.ordering__box
	margin-bottom: $bottom-space--md

	&:last-child
		margin-bottom: 0

.ordering__title
	+font-bold
	+font($font-size-h3, $line-height-h3)
	margin-bottom: $bottom-space

	&:last-child
		margin-bottom: 0

	+media('<mob-lg')
		+font($font-size-h3--sm, $line-height-h3--sm)

/* ordering end

/* payment-list
.payment-list
	&, .#{$user-content} &
		margin: 0 -7px $bottom-space

		&:last-child
			margin-bottom: 0

		li
			padding: 0 7px 15px
			margin: 0

			&::before
				content: none

	li
		float: left
		width: 50%
		min-height: 165px

		+media('<mob-md')
			float: none
			display: block
			width: auto
			min-height: 100px

	input[type="radio"]
		display: none
		
	label

		& > strong
			display: block
			margin-bottom: 0.2em
			+font-bold
			+font(18px, 21px)

			&:last-child
				margin-bottom: 0

		& > span
			display: block
			margin-bottom: 0.2em
			+font(16px, 19px)

			&:last-child
				margin-bottom: 0

		& > img
			+display-inline-block-middle
			margin: 0 10px 14px 0

	input[type="radio"] ~ label
		display: block
		height: 100%
		border: 1px solid $border-color
		padding: 12px 16px

		&::before, &::after
			content: none

		span
			padding-left: 0

			&::before, &::after
				content: none

	// checked
	input[type="radio"]:checked ~ label
		border-color: $base-color--ea
		box-shadow: 0 0 0 1px $base-color--ea

/* payment-list end

/* radio-switcher
.radio-switcher
	margin-bottom: $bottom-space

	&:last-child
		margin-bottom: 0

.radio-switcher__head
	display: block
	line-height: 1
	padding: $bottom-space 0 0

	&:first-child
		padding-top: 0

	input[type="radio"] ~ label
		&::before
			border-color: $text-color-light

		em
			+font-normal
			color: $text-color-light
			border-bottom: 1px dashed $text-color-light

	// hover
	input[type="radio"] ~ label
		&:hover
			&::before
				border-color: $link-color

			em
				color: $link-color
				border-bottom-color: $link-color

	// checked
	input[type="radio"]:checked ~ label
		cursor: default

		&::before
			border-color: $text-color

		em
			+font-bold
			color: $text-color
			border-bottom-color: transparent

.radio-switcher__panel
	padding: $bottom-space 0 0
	display: none

	&:first-child
		padding-top: 0

	.is-open + &
		display: block

	ul
		margin: 0 0 $bottom-space
		padding-left: 20px

		&:last-child
			margin-bottom: 0

		li
			margin: 10px 0 0

			&:first-child
				margin-top: 0

/* radio-switcher end

/* output
.output
	background-color: $bg-color-alt

.output__box
	display: block
	width: 440px
	margin-left: auto

	+media('<tab-sm')
		width: auto
		margin: 0

.output__list
	margin-bottom: 10px

	&:last-child
		margin-bottom: 0

.output__list__item, .output__footer__item
	border: solid $border-color
	border-width: 0 0 1px
	padding: 8px 20px

	&:first-child
		border-top-width: 1px

	+clear

.output__list__dt, .output__footer__dt
	float: left
	width: 50%
	+font(16px, 24px)
	+truncate(none)

.output__list__dd, .output__footer__dd
	float: right
	text-align: right
	width: 50%
	+font(16px, 24px)

.output__footer__item
	border: none

.output__footer__dt
	+font-bold
	+font(16px, 36px)
	text-transform: uppercase

.output__footer__dd
	+font-bold
	+font(36px, 36px)

	+media('<mob-lg')
		font-size: 24px

/* output end

/* completion
.completion
	margin-bottom: $bottom-space--md

	+media('<desk-lg')
		margin-bottom: $bottom-space

	&:last-child
		margin-bottom: 0

.completion__figure
	display: block
	position: relative
	+size(100px)
	border: 4px solid $base-color
	border-radius: 50px
	+push-auto
	margin-bottom: $bottom-space--md

	+media('<desk-lg')
		margin-bottom: $bottom-space

	+media('<tab-sm')
		+size(60px)
		border-width: 3px

	.ea-site &
		border-color: $base-color--ea

	&::before, &::after
		+pseudo()
		height: 5px
		background-color: $base-color

		+media('<tab-sm')
			height: 4px

		.ea-site &
			background-color: $base-color--ea

	&::before
		width: 24px
		transform: rotate(45deg)
		left: 23px
		top: 50px

		+media('<tab-sm')
			width: 16px
			left: 12px
			top: 30px

	&::after
		width: 40px
		transform: rotate(-45deg)
		left: 35px
		top: 44px

		+media('<tab-sm')
			width: 26px
			left: 20px
			top: 27px

.completion__title
	text-align: center
	+font-bold
	+font($font-size-h2, $line-height-h2)
	margin-bottom: $bottom-space

	+media('<tab-lg')
		+font($font-size-h2--md, $line-height-h2--md)

	+media('<mob-lg')
		+font($font-size-h2--sm, $line-height-h2--sm)

.completion__note
	+font(18px, round-float(32/18, 2))
	text-align: center
	margin-bottom: $bottom-space

	+media('<tab-sm')
		font-size: 16px

	&:last-child
		margin-bottom: 0

	a, a[href^="tel"]
		color: $link-color
		text-decoration: none !important

		&:hover, .no-touchevents &:hover
			color: $link-color
			text-decoration: underline !important

/* completion end